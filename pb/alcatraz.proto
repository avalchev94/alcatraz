syntax = "proto3";

import "google/protobuf/empty.proto";

package pb;

service Alcatraz {
    rpc UploadFile(stream UploadRequest) returns (google.protobuf.Empty) {}
}

message UploadRequest {
    oneof test_oneof {
        bytes chunk = 1;
        Metadata metadata = 2;
    }
}

message Metadata {
    string name = 1;
    int64 size = 2;
    string hash = 3;
}